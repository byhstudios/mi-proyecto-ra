<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RA con Detección de Planos</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://rawcdn.githack.com/AR-js-org/AR.js/3.3.2/aframe/build/aframe-ar.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
    <a-scene embedded arjs="sourceType: webcam; videoTexture: true; maxDetectionRate: 30;">
        <!-- Aquí configuramos el anclaje al plano detectado -->
        <a-entity id="model" obj-model="obj: url(assets/modelo.obj); mtl: url(assets/modelo.mtl)"
                  scale="1 1 1"></a-entity>
        <a-entity camera="fov: 80;"></a-entity>
    </a-scene>

    <script>
        // Esperar a que la escena esté cargada
        document.querySelector('a-scene').addEventListener('loaded', () => {
            // Configurar el evento de detección de plano
            document.querySelector('a-scene').sceneEl.addEventListener('referenceframe-found', function (event) {
                const model = document.getElementById('model');
                // Posicionar el modelo en el plano detectado
                model.setAttribute('position', {x: 0, y: 0, z: 0}); // Ajustar la posición según el plano detectado
                model.setAttribute('visible', true); // Asegurarse de que el modelo sea visible
            });
        });
    </script>
</body>
</html>